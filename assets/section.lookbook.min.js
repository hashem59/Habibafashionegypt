!function(o){"use strict";theme.LookBook=function(){function e(e){this.$container=o(e),this.namespace=".lookbook",this.onLoad()}return e.prototype=o.extend({},Section.prototype,e.prototype,{onLoad:function(){var e=this.$container.find(".lookbook__item"),t=o(".header");function n(e){var n=e.parents("[data-lookbook-picker]").find("[data-lookbook-picker-button]"),a=o(".header__content--sticky"),s=a.length?a:t;n[0].getBoundingClientRect().top-e.innerHeight()-10>s[0].getBoundingClientRect().bottom?e.addClass("bottom-0").removeClass("top-0"):e.removeClass("bottom-0").addClass("top-0")}theme.Global.responsiveHandler({namespace:".lookbook",element:e,delegate:"[data-lookbook-picker-button]",on_desktop:!0,events:{click:function(){var e=o(this),t=e.parents("[data-lookbook-picker]").find("[data-lookbook-product]");e[e.hasClass("open")?"removeClass":"addClass"]("open"),t[e.hasClass("open")?"removeClass":"addClass"]("d-none"),e.hasClass("open")&&n(t)}}}),theme.Global.responsiveHandler({namespace:".lookbook",element:e,delegate:"[data-lookbook-picker]",on_desktop:!0,events:{"mouseenter mouseleave":function(e){var t=o(this),a=t.find("[data-lookbook-product-button]"),s=t.find("[data-lookbook-product]");a.hasClass("open")||(s["mouseenter"===e.type?"removeClass":"addClass"]("d-none"),"mouseenter"===e.type&&n(s))}}}),theme.Global.responsiveHandler({namespace:".lookbook",element:e,delegate:"[data-lookbook-product-close]",on_desktop:!0,events:{click:function(){o(this).parents("[data-lookbook-picker]").find("[data-lookbook-picker-button]").addClass("open").trigger("click")}}}),e.length&&theme.is_loaded&&theme.ImagesLazyLoad.update()},onUnload:function(){this.$container.off(this.namespace),this.$container.trigger("section.unload"),this.$container.find(".lookbook__item").unbind()}}),e}(),o((function(){theme.sections.register("lookbook",theme.LookBook)}))}(jQueryTheme);
!function(t){"use strict";theme.PopupSubscriptionСonfirmation=function(){function e(){this.settings={popup_subscription_name:"subscription-confirmation",popup_contact_name:"contact-confirmation"},this.load()}e.prototype=t.extend({},e.prototype,{load:function(){var e,o=t(".js-subscription-confirmation-error"),n=t('[data-js-popup-name="message"] .note--error');function i(){var e=new Date;e.setTime(e.getTime()+864e6),t.cookie("subscription","off",{expires:e,path:"/"})}if(-1!==window.location.href.indexOf("customer_posted=true")||-1!==window.location.href.indexOf("contact%5Btags%5D=newsletter&form_type=customer"))i(),theme.Popups.callByName(this.settings.popup_subscription_name),theme.Popups.addHandler(this.settings.popup_subscription_name,"close.after",(function(){var t=window.location.href.replace("?customer_posted=true","").replace("customer_posted=true","");window.history.replaceState({path:t},"",t)}));else if(-1!==window.location.href.indexOf("contact_posted=true"))i(),theme.Popups.callByName(this.settings.popup_contact_name),theme.Popups.addHandler(this.settings.popup_contact_name,"close.after",(function(){var t=window.location.href.replace("?contact_posted=true","").replace("contact_posted=true","");window.history.replaceState({path:t},"",t)}));else if(o.length)(e=theme.Popups.getByName(this.settings.popup_subscription_name)).find("[data-popup-confirmation-success]").addClass("d-none"),e.find("[data-popup-confirmation-error-message]").html(o.first().html()),e.find("[data-popup-confirmation-error]").removeClass("d-none"),theme.Popups.callByName(this.settings.popup_subscription_name);else if(n.length)(e=theme.Popups.getByName(this.settings.popup_contact_name)).find("[data-popup-confirmation-success]").addClass("d-none"),e.find("[data-popup-confirmation-error-message]").html(n.first().html()),e.find("[data-popup-confirmation-error]").removeClass("d-none"),theme.Popups.callByName(this.settings.popup_contact_name);else if(-1!==window.location.href.indexOf("form_type=contact")&&-1===window.location.href.indexOf("contact_posted=true")&&-1!==window.location.href.indexOf("was_reloaded=true"))return void(window.location.href=window.location.href+"&was_reloaded=true")}}),theme.PopupSubscriptionСonfirmation=new e},t((function(){theme.PopupSubscriptionСonfirmation()}))}(jQueryTheme);